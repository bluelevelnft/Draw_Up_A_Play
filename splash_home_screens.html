<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hoops Playbook — Splash + Home</title>
<style>
  :root{
    --bg:#0b0f17;           /* matches your app */
    --panel:#111827;        /* panel-bg */
    --panel-2:#0f172a;
    --ink:#e5e7eb;          /* panel-fg */
    --muted:#9ca3af;
    --line:#1f2937;
    --accent:#2563eb;       /* blue */
    --accent-2:#60a5fa;
    --brand:#f59e0b;        /* sel / amber */
    --ball:#f97316;         /* orange */
    --good:#10b981; --warn:#f59e0b; --bad:#ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:radial-gradient(1200px 700px at 60% -10%, rgba(37,99,235,.18), transparent 60%), radial-gradient(1000px 500px at -10% 50%, rgba(245,158,11,.12), transparent 55%), var(--bg); color:var(--ink); font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif}
  a{color:inherit; text-decoration:none}
  .wrap{min-height:100%; display:grid; grid-template-rows: auto 1fr auto}
  header{display:flex; align-items:center; gap:10px; padding:14px 18px; border-bottom:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)); position:relative; z-index:5}
  .logo{width:36px; height:36px; border-radius:10px; display:grid; place-items:center; background:linear-gradient(145deg, #1b2233, #0b1220); border:1px solid #1f2a44; box-shadow:inset 0 0 0 1px rgba(255,255,255,.03)}
  .logo svg{width:26px; height:26px}
  .title{font-weight:700; letter-spacing:.2px}
  .sub{color:var(--muted); font-size:12px}
  main{position:relative}

  /* Splash */
  .splash{position:fixed; inset:0; background:radial-gradient(1600px 800px at 40% -10%, rgba(96,165,250,.18), transparent 60%), radial-gradient(1200px 600px at 120% 110%, rgba(245,158,11,.12), transparent 60%), var(--bg); display:grid; place-items:center; z-index:10; overflow:hidden}
  .splash-inner{width:min(1120px, 92vw); display:grid; grid-template-columns: 1.2fr 1fr; gap:28px; align-items:center; padding:28px}
  .hero{position:relative; background:linear-gradient(145deg, #0e1524, #0a0f1a); border:1px solid #1f2a44; border-radius:20px; padding:18px; box-shadow:0 30px 60px rgba(0,0,0,.45); isolation:isolate}
  .hero svg{width:100%; height:auto; display:block}
  .shine{position:absolute; inset:-1px; border-radius:20px; pointer-events:none; background:radial-gradient(300px 180px at 20% 0%, rgba(255,255,255,.09), transparent 40%)}
  .brand{display:flex; flex-direction:column; gap:10px}
  .brand h1{margin:0; font-size:38px; letter-spacing:.2px}
  .kicker{font-size:12px; color:var(--muted)}
  .cta{margin-top:6px; display:flex; flex-wrap:wrap; gap:10px}
  .btn{background:#111827; border:1px solid #293347; color:var(--ink); padding:12px 14px; border-radius:12px; cursor:pointer; display:inline-flex; align-items:center; gap:10px; font-weight:600; transition:transform .08s ease, filter .15s ease, box-shadow .15s ease}
  .btn:hover{filter:brightness(1.06)}
  .btn:active{transform:translateY(1px)}
  .btn.primary{background:linear-gradient(180deg, #1f64ff, #1e40af); border-color:#1e3a8a; box-shadow:0 10px 28px rgba(37,99,235,.35)}
  .btn .kbd{font-size:11px; padding:2px 6px; border:1px solid #2b3850; border-radius:6px; background:#0b1220; color:#cbd5e1}
  .meta{display:flex; gap:14px; align-items:center; margin-top:8px; color:#cbd5e1}
  .meta small{color:var(--muted)}

  /* Home */
  .home{max-width:1100px; margin:0 auto; padding:24px}
  .grid{display:grid; grid-template-columns:repeat(12, 1fr); gap:12px}
  .card{grid-column:span 4; background:linear-gradient(180deg, #0f172a, #0b1220); border:1px solid #1f2937; border-radius:16px; padding:14px; box-shadow:0 6px 18px rgba(0,0,0,.25)}
  .card.big{grid-column:span 12}
  .card.half{grid-column:span 6}
  .card .h{display:flex; align-items:center; gap:8px; font-weight:700; margin-bottom:8px}
  .card p{color:#cbd5e1; margin:6px 0 0 0; font-size:13px}
  .actions{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:10px; margin-top:10px}
  .action-btn{display:flex; gap:10px; align-items:center; padding:12px; background:#101826; border:1px solid #263246; border-radius:12px; cursor:pointer}
  .action-btn:hover{filter:brightness(1.05)}
  .action-btn svg{width:18px; height:18px}
  .pill{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; border:1px solid #263246; background:#101826; color:#cbd5e1; font-size:12px}
  .stats{display:flex; gap:10px; flex-wrap:wrap; margin-top:8px}

  footer{padding:14px 18px; border-top:1px solid var(--line); color:var(--muted)}

  /* Responsiveness */
  @media (max-width:980px){ .splash-inner{grid-template-columns: 1fr; } .card{grid-column:span 6} .card.big{grid-column:span 12} }
  @media (max-width:640px){ .card{grid-column:span 12} .actions{grid-template-columns:1fr} }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo" aria-hidden="true">
      <!-- ball icon -->
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <circle cx="12" cy="12" r="9" fill="url(#g)"/>
        <defs>
          <radialGradient id="g" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(9 6) rotate(45) scale(14 12)">
            <stop stop-color="#FDBA74"/>
            <stop offset="1" stop-color="#FB923C"/>
          </radialGradient>
        </defs>
        <path d="M3 12h18M12 3c0 6 3 9 9 9M12 21c0-6-3-9-9-9"/>
      </svg>
    </div>
    <div>
      <div class="title">Hoops Playbook</div>
      <div class="sub">Court animator and play library</div>
    </div>
    <div style="margin-left:auto; display:flex; gap:10px; align-items:center">
      <span id="badgeSession" class="pill" hidden>Resume available</span>
      <span id="badgeLib" class="pill" hidden>Saved plays: <b id="libCount">0</b></span>
    </div>
  </header>

  <main>
    <!-- Splash overlay -->
    <div class="splash" id="splash" role="dialog" aria-label="Splash">
      <div class="splash-inner">
        <div class="hero">
          <!-- High-res scalable splash illustration -->
          <svg id="heroSVG" viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="bgG" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#0e1524"/>
                <stop offset="1" stop-color="#0a0f1a"/>
              </linearGradient>
              <linearGradient id="lineG" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0" stop-color="#1f64ff"/>
                <stop offset="1" stop-color="#1e3a8a"/>
              </linearGradient>
              <radialGradient id="ballG" cx="0" cy="0" r="1" gradientTransform="translate(640 450) rotate(45) scale(240 220)">
                <stop stop-color="#FDBA74"/>
                <stop offset="1" stop-color="#FB923C"/>
              </radialGradient>
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="18" result="b"/>
                <feMerge>
                  <feMergeNode in="b"/><feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <rect width="100%" height="100%" fill="url(#bgG)"/>
            <!-- outer court shadow -->
            <rect x="140" y="90" width="1120" height="720" rx="28" fill="#0d1422" stroke="#1f2a44"/>
            <rect x="170" y="120" width="1060" height="660" rx="20" fill="#0f172a" stroke="#1f2a44"/>
            <!-- center circle -->
            <circle cx="700" cy="450" r="120" fill="none" stroke="url(#lineG)" stroke-width="4" opacity=".9"/>
            <line x1="700" y1="120" x2="700" y2="780" stroke="url(#lineG)" stroke-width="3" opacity=".9"/>
            <!-- keys -->
            <g stroke="#2b3650" stroke-width="3" opacity=".95">
              <rect x="170" y="330" width="190" height="240" rx="4" fill="none"/>
              <rect x="1040" y="330" width="190" height="240" rx="4" fill="none"/>
              <circle cx="360" cy="450" r="60" fill="none"/>
              <circle cx="1040" cy="450" r="60" fill="none"/>
            </g>
            <!-- 3pt arcs stylized -->
            <path d="M170,210 Q540,210 700,210" fill="none" stroke="#2b3650" stroke-width="3"/>
            <path d="M1230,690 Q860,690 700,690" fill="none" stroke="#2b3650" stroke-width="3"/>

            <!-- pass line -->
            <g filter="url(#glow)">
              <path d="M400 500 C 520 360, 880 520, 980 440" fill="none" stroke="#ef4444" stroke-width="5" stroke-dasharray="16 12"/>
            </g>
            <!-- moving arrows -->
            <g stroke="#ef4444" stroke-width="4">
              <line x1="980" y1="440" x2="1004" y2="440"/>
              <polyline points="1004,440 992,434 992,446 1004,440" fill="#ef4444"/>
            </g>
            <!-- ball -->
            <g filter="url(#glow)">
              <circle cx="640" cy="450" r="70" fill="url(#ballG)" stroke="#f97316" stroke-width="3"/>
              <path d="M570 450 h140 M640 380 c0 70 35 105 105 105 M640 520 c0-70-35-105-105-105" fill="none" stroke="#0b1220" stroke-width="3"/>
            </g>
            <!-- subtle text -->
            <g font-family="system-ui,Segoe UI,Roboto" font-weight="700" text-anchor="middle">
              <text x="700" y="70" fill="#93c5fd" font-size="18" opacity=".9">HOOPS PLAYBOOK</text>
            </g>
          </svg>
          <div class="shine" aria-hidden="true"></div>
        </div>
        <div class="brand">
          <div class="kicker">Basketball • Animation • Library</div>
          <h1>Design plays. Time cuts. Show the read.</h1>
          <p style="color:#cbd5e1; margin:0">A clean front door for your court app: high-res splash art, quick actions, and smart resume that detects saved tracks and your play library.</p>
          <div class="cta">
            <button class="btn primary" id="ctaStart">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 5v14l11-7z"/></svg>
              Start
              <span class="kbd">Enter</span>
            </button>
            <button class="btn" id="ctaResume" hidden>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h13M14 9l3 3-3 3"/></svg>
              Continue last session
            </button>
            <button class="btn" id="ctaExport">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
              Download splash PNG
            </button>
          </div>
          <div class="meta">
            <small id="metaLib" hidden>Saved plays: <b id="metaLibCount">0</b></small>
            <small>Keyboard: C capture • Space play • ←/→ step</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Home content -->
    <section class="home" id="home">
      <div class="grid">
        <div class="card big">
          <div class="h">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
            Quick actions
          </div>
          <div class="actions">
            <a class="action-btn" href="#" data-go="new">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
              <div>
                <div style="font-weight:700">New play session</div>
                <div class="sub">Empty court, fresh track</div>
              </div>
            </a>
            <a class="action-btn" href="#" data-go="resume" id="actResume" hidden>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 5v14l11-7z"/></svg>
              <div>
                <div style="font-weight:700">Continue last session</div>
                <div class="sub">Uses local autosave</div>
              </div>
            </a>
            <label class="action-btn" style="cursor:pointer">
              <input id="fileOpen" type="file" accept="application/json" hidden />
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
              <div>
                <div style="font-weight:700">Open JSON</div>
                <div class="sub">Load a saved track</div>
              </div>
            </label>
            <a class="action-btn" href="#" data-go="library">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6 22a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8l6 6v11a2 2 0 0 1-2 2H6z"/></svg>
              <div>
                <div style="font-weight:700">Play library</div>
                <div class="sub"><span id="homeLibCount">0</span> saved plays</div>
              </div>
            </a>
          </div>
          <div class="stats">
            <span class="pill"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h18v4H3zM3 10h18v4H3zM3 17h18v4H3z"/></svg> Court 84×50 ft (NBA/NCAA toggles)</span>
            <span class="pill"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg> Capture steps</span>
            <span class="pill"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8 5v14l11-7z"/></svg> Play, ease, flow</span>
            <span class="pill"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 6l-4 10-4-4"/></svg> Pass paths & types</span>
          </div>
        </div>

       <div class="card half">
  <div class="h">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 2l3 7h7l-5.5 4 2 7L12 16l-6.5 4 2-7L2 9h7z"/>
    </svg>
    Tips
  </div>
  <p>Drag the ball with Shift to detach. No player overlap is enforced so cuts feel physical. Use random curves outward/inward for realistic routes.</p>
</div>

  <div class="card half">
    <div class="h">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/>
      </svg>
      Shortcuts
    </div>
    <p><span class="pill">C</span> capture   <span class="pill">Z</span> undo  <span class="pill">Space</span> play/pause <span class="pill">←/→</span> prev/next <span class="pill">1-4</span>&nbsp;actions</p>
  </div>

  <!-- <div class="card">
    <div class="h">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 20l9-5-9-5-9 5 9 5z"/><path d="M12 12l9-5-9-5-9 5 9 5z"/>
      </svg>
      Brand toolkit
    </div>
    <p>Export the splash art at any size for stores, launch screens, or docs.</p>
    <div class="actions">
      <button class="action-btn" id="btnPng1x">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12h14"/>
        </svg>
        <div>
          <div style="font-weight:700">PNG 1600×1024</div>
          <div class="sub">Lightweight</div>
        </div>
      </button>
      <button class="action-btn" id="btnPng2x">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 4h16v16H4z"/>
        </svg>
        <div>
          <div style="font-weight:700">PNG 3200×2048</div>
          <div class="sub">Hi-res</div>
        </div>
      </button>
    </div>
  </div> -->

      </div>
    </section>
  </main>

  <footer>© <span id="yr"></span> Hoops Playbook. Local-only; nothing is uploaded.</footer>
</div>

<script>
  // ===== CONFIG =====
  // Set this to your actual app filename (the court animator). Example: 
  // const APP_URL = "index.html";
  const APP_URL = "index.html"; // update if you rename/move the app file

  // Keys used by your existing app
  const KEY_TRACK = 'court_track_actions_bubble';
  const KEY_LIB = 'play_library_v1';

  function hasSavedSession(){
    try{ const raw = localStorage.getItem(KEY_TRACK); if(!raw) return false; const obj = JSON.parse(raw); const arr = Array.isArray(obj) ? obj : obj.track; return Array.isArray(arr) && arr.length > 1; }catch(e){ return false; }
  }
  function libCount(){ try{ const lib = JSON.parse(localStorage.getItem(KEY_LIB)||'{}'); return Object.keys(lib).length; }catch(e){ return 0; } }

  function nav(action, file){
    // Pass intent so the app can optionally branch
    const url = new URL(APP_URL, location.href);
    url.searchParams.set('entry', action||'home');
    if(file){ sessionStorage.setItem('pendingImportJSON', file); }
    location.href = url.toString();
  }

  // ===== Splash wiring =====
  const splash = document.getElementById('splash');
  const ctaStart = document.getElementById('ctaStart');
  const ctaResume = document.getElementById('ctaResume');
  const ctaExport = document.getElementById('ctaExport');
  const metaLib = document.getElementById('metaLib');
  const metaLibCount = document.getElementById('metaLibCount');
  const badgeSession = document.getElementById('badgeSession');
  const badgeLib = document.getElementById('badgeLib');
  const libCountEl = document.getElementById('libCount');

  function initBadges(){
    const has = hasSavedSession();
    const n = libCount();
    if(has){ ctaResume.hidden = false; badgeSession.hidden = false; }
    if(n>0){ metaLib.hidden = false; badgeLib.hidden = false; metaLibCount.textContent = n; libCountEl.textContent = n; document.getElementById('homeLibCount').textContent = n; document.getElementById('actResume').hidden = !has; }
  }

  function dismissSplash(){ splash.style.opacity = '0'; splash.style.pointerEvents = 'none'; setTimeout(()=> splash.hidden = true, 220); }

  ctaStart.addEventListener('click', dismissSplash);
  ctaResume.addEventListener('click', ()=> nav('resume'));
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' && !splash.hidden) dismissSplash(); });
  splash.addEventListener('click', (e)=>{ if(e.target === splash) dismissSplash(); });

  // ===== Home quick actions =====
  document.querySelectorAll('[data-go]')?.forEach(el=>{
    el.addEventListener('click', (e)=>{
      e.preventDefault();
      const act = el.getAttribute('data-go');
      if(act === 'new') nav('new');
      else if(act === 'resume') nav('resume');
      else if(act === 'library') nav('library');
    });
  });
  document.getElementById('fileOpen')?.addEventListener('change', (e)=>{
    const f = e.target.files?.[0]; if(!f) return; const reader = new FileReader();
    reader.onload = ()=>{ try{ sessionStorage.setItem('pendingImportJSON', reader.result); nav('import'); } catch(err){ alert('Could not read file: '+err.message); } };
    reader.readAsText(f);
  });

  // ===== Splash PNG export (from inline SVG) =====
  function exportSplashPNG(width, height, name){
    const svg = document.getElementById('heroSVG');
    const xml = new XMLSerializer().serializeToString(svg);
    const svg64 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(xml);
    const img = new Image();
    img.onload = function(){
      const w = width || 3200, h = height || 2048;
      const canvas = document.createElement('canvas');
      canvas.width = w; canvas.height = h;
      const ctx = canvas.getContext('2d');
      // Fill bg to avoid transparent edges
      const grad = ctx.createLinearGradient(0,0,w,h); grad.addColorStop(0,'#0e1524'); grad.addColorStop(1,'#0a0f1a'); ctx.fillStyle = grad; ctx.fillRect(0,0,w,h);
      // Draw preserving aspect (1400×900)
      const ar = 1400/900; const targetAR = w/h; let dw=w, dh=w/ar; if(targetAR<ar){ dh=h; dw=h*ar; }
      const dx=(w-dw)/2, dy=(h-dh)/2;
      ctx.drawImage(img, dx, dy, dw, dh);
      const a = document.createElement('a'); a.download = name || 'hoops_splash_'+w+'x'+h+'.png'; a.href = canvas.toDataURL('image/png'); a.click();
    };
    img.src = svg64;
  }
  document.getElementById('btnPng1x')?.addEventListener('click', ()=> exportSplashPNG(1600,1024));
  document.getElementById('btnPng2x')?.addEventListener('click', ()=> exportSplashPNG(3200,2048));
  ctaExport?.addEventListener('click', ()=> exportSplashPNG(3000,1875,'hoops_splash_store.png'));

  // year + badges
  document.getElementById('yr').textContent = new Date().getFullYear();
  initBadges();
</script>
</body>
</html>
